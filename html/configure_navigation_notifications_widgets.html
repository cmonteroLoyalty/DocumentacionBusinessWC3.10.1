<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.8">
<meta name="keywords" content="Business Banking Widget Collection, BACKBASE, services">
<title>Configure navigation for Notifications widgets</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<link rel="stylesheet" href="./asciidoctor.css">
<style>.toc-current{font-weight: bold;} .toc-root{font-family: "Open Sans","DejaVu Sans",sans-serif;
                         font-size: 0.9em;} #content{display: flex; flex-direction: column; flex: 1 1 auto;}
               .nav-footer{text-align: center; margin-top: auto;}
               .nav-footer > p > a {white-space: nowrap;}</style>
</head>
<body id="configure_navigation_notifications_widgets" class="book toc2 toc-left">
<div id="header">
<h1>Configure navigation for Notifications widgets</h1>
<div class="details">
<span id="revnumber">version 3.10.1</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<p><span class="toc-root toc-current"><a href="index.html">Business Banking Widget Collection</a></span></p><ul class="sectlevel1">
<li><a href="understand.html">Understand  Business Banking Widget Collection v3.10.1</a>
<ul class="sectlevel2">
<li><a href="what_are_widget_collections.html">What is Business Banking Widget Collection</a>
</li>
<li><a href="accountstatements_understand.html">Understand Account Statements</a>
<ul class="sectlevel3">
<li><a href="web_account_statements.html">Web widgets</a>
</li>
</ul>
</li>
<li><a href="authentication_understand.html">Understand Authentication</a>
<ul class="sectlevel3">
<li><a href="web_authentication.html">Web widgets</a>
</li>
</ul>
</li>
<li><a href="batches_understand.html">Understand Batches</a>
<ul class="sectlevel3">
<li><a href="web_batches.html">Web widgets</a>
</li>
</ul>
</li>
<li><a href="cardmanagement_understand.html">Understand Card Management</a>
<ul class="sectlevel3">
<li><a href="web_card_management.html">Web widgets</a>
</li>
</ul>
</li>
<li><a href="cashflowforecasting_understand.html">Understand Cash Flow Forecasting</a>
<ul class="sectlevel3">
<li><a href="web_cash_flow_forecasting.html">Web widgets</a>
</li>
</ul>
</li>
<li><a href="contacts_understand.html">Understand Contacts</a>
<ul class="sectlevel3">
<li><a href="web_contacts.html">Web widgets</a>
</li>
</ul>
</li>
<li><a href="fx_trading_understand.html">Understand FX Trading</a>
<ul class="sectlevel3">
<li><a href="web_fx_trading.html">Web widgets</a>
</li>
</ul>
</li>
<li><a href="messages_understand.html">Understand Messages</a>
<ul class="sectlevel3">
<li><a href="web_messages.html">Web widgets</a>
</li>
</ul>
</li>
<li><a href="notifications_understand.html">Understand Notifications</a>
<ul class="sectlevel3">
<li><a href="web_notifications.html">Web widgets</a>
</li>
</ul>
</li>
<li><a href="payments_understand.html">Understand Payments</a>
<ul class="sectlevel3">
<li><a href="web_payments.html">Web widgets</a>
</li>
</ul>
</li>
<li><a href="places_understand.html">Understand Places</a>
<ul class="sectlevel3">
<li><a href="web_places.html">Web widgets</a>
</li>
</ul>
</li>
<li><a href="product_summary_understand.html">Understand Products</a>
<ul class="sectlevel3">
<li><a href="web_products.html">Web widgets</a>
</li>
</ul>
</li>
<li><a href="sweeping_understand.html">Understand Sweeping</a>
<ul class="sectlevel3">
<li><a href="web_sweeping.html">Web widgets</a>
</li>
</ul>
</li>
<li><a href="transaction_list_understand.html">Understand Transactions</a>
<ul class="sectlevel3">
<li><a href="web_transactions.html">Web widgets</a>
</li>
</ul>
</li>
<li><a href="user_self_service.html">Understand User Self Service</a>
<ul class="sectlevel3">
<li><a href="web_user_management.html">Web widgets</a>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="install_and_configure.html">Install</a>
<ul class="sectlevel2">
<li><a href="install_the_widget_collection_3_demo.html">Deploy the demo app for web</a>
</li>
<li><a href="install_the_lean_page_template.html">Install the lean page template for Widget Collection 3</a>
</li>
<li><a href="setup_widget_development_environment.html">Set up a widget development environment</a>
</li>
</ul>
</li>
<li><a href="use.html">Adopt</a>
<ul class="sectlevel2">
<li><a href="adopt_omni_payment_widget.html">Adopt the Initiate omni payment widget</a>
</li>
<li><a href="configure_create_payment_template_widget.html">Configure the Create payment template widget</a>
</li>
<li><a href="adopt_payment_wizard_widget.html">Adopt the Payment Wizard widget</a>
</li>
<li><a href="adopt_manual_batch_widget.html">Adopt the Create manual batch payments widget</a>
</li>
<li><a href="configure_navigation_notifications_widgets.html"><span class="toc-current">Configure navigation for Notifications widgets</span></a>
</li>
<li><a href="how_to_use_theming.html">Use theming</a>
</li>
<li><a href="configure_account_numbers_displaying_in_products.html">Configure account numbers formatting for Products widgets</a>
</li>
<li><a href="synchronize_masking_behavior_in_products.html">Synchronize masking behavior with backed in Products widgets.</a>
</li>
</ul>
</li>
<li><a href="extend_and_build.html">Extend and build</a>
<ul class="sectlevel2">
<li><a href="extend_build_web.html">Extend and build web widgets</a>
<ul class="sectlevel3">
<li><a href="configure_batch_types.html">Add a custom batch type to the batch payment widgets</a>
</li>
<li><a href="configure_place_types.html">Customize the Find branches and ATMs widget</a>
</li>
<li><a href="field_mapping.html">Field mapping</a>
</li>
<li><a href="country_injection.html">Country injection</a>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="reference.html">Reference</a>
<ul class="sectlevel2">
<li><a href="web_reference.html">Web widgets</a>
<ul class="sectlevel3">
<li><a href="contact_manager_pending_approvals_reference.html">Approve contact change requests</a>
</li>
<li><a href="cash_flow_common_lib_reference.html">Cash Flow Forecasting common library</a>
</li>
<li><a href="create_message_reference.html">Compose message by the customer</a>
</li>
<li><a href="configure_forecast_reference.html">Configure forecast</a>
</li>
<li><a href="connect_accounting_software_reference.html">Connect accounting software</a>
</li>
<li><a href="contact_create_reference.html">Create business contact</a>
</li>
<li><a href="create_fx_trade_order_reference.html">Create FX trade order</a>
</li>
<li><a href="manual_batch_reference.html">Create manual batch payments</a>
</li>
<li><a href="create_sweep_reference.html">Create sweep</a>
</li>
<li><a href="contact_edit_reference.html">Edit business contact</a>
</li>
<li><a href="places_reference.html">Find branches and ATMs</a>
</li>
<li><a href="ach_debit_reference.html">Initiate ACH debit</a>
</li>
<li><a href="omni_payment_reference.html">Initiate omni payment</a>
</li>
<li><a href="payment_wizard_reference.html">Initiate payment wizard</a>
</li>
<li><a href="login_reference.html">Log in user</a>
</li>
<li><a href="manage_ach_debit_reference.html">Manage ACH debit</a>
</li>
<li><a href="configure_business_approval_notification_settings_reference.html">Manage business approval notification preferences</a>
</li>
<li><a href="batch_upload_log_reference.html">Manage batch file uploads</a>
</li>
<li><a href="manage_batches_reference.html">Manage batch payments</a>
</li>
<li><a href="manage_forecast_settings_reference.html">Manage forecast settings</a>
</li>
<li><a href="contact_manager_business_reference.html">Manage business contacts</a>
</li>
<li><a href="card_management_details_reference.html">Manage cards</a>
</li>
<li><a href="contact_manager_my_requests_reference.html">Manage contact change requests</a>
</li>
<li><a href="contact_details_reference.html">Manage contact details</a>
</li>
<li><a href="manage_payables_reference.html">Manage payables</a>
</li>
<li><a href="manage_payments_reference.html">Manage payments</a>
</li>
<li><a href="manage_payment_templates_reference.html">Manage payment templates</a>
</li>
<li><a href="manage_sweeps_reference.html">Manage sweeps</a>
</li>
<li><a href="card_management_travel_notice_reference.html">Manage travel notice</a>
</li>
<li><a href="manage_user_security_reference.html">Manage user security</a>
</li>
<li><a href="notification_badge_reference.html">Notification badge</a>
</li>
<li><a href="request_stop_checks_reference.html">Request stop checks</a>
</li>
<li><a href="product_summary_account_picker_reference.html">Select business account</a>
</li>
<li><a href="select_context_reference.html">Select context</a>
</li>
<li><a href="upload_batch_reference.html">Upload batch payment</a>
</li>
<li><a href="user_context_menu_reference.html">View and change context</a>
</li>
<li><a href="view_download_business_account_statements_reference.html">View and download business account statements</a>
</li>
<li><a href="batch_payments_reference.html">View batch details</a>
</li>
<li><a href="product_summary_balance_history_reference.html">View business account balance history</a>
</li>
<li><a href="product_summary_account_details_reference.html">View business account details</a>
</li>
<li><a href="product_summary_accounts_overview_reference.html">View business account list</a>
</li>
<li><a href="card_management_overview_reference.html">View cards</a>
</li>
<li><a href="view_forecast_reference.html">View cash flow forecast</a>
</li>
<li><a href="contact_list_reference.html">View contact list</a>
</li>
<li><a href="messages_conversation_thread_reference.html">View conversation thread by the customer</a>
</li>
<li><a href="product_summary_favorite_accounts_reference.html">View favorite accounts</a>
</li>
<li><a href="view_fx_pair_details_reference.html">View FX pair details</a>
</li>
<li><a href="view_fx_rates_reference.html">View FX rates</a>
</li>
<li><a href="messages_conversations_list_reference.html">View messages by the customer</a>
</li>
<li><a href="view_receivables_reference.html">View receivables</a>
</li>
<li><a href="cash_flow_payment_request_details_reference.html">Cash flow payment request details</a>
</li>
<li><a href="view_sticky_popup_notifications_reference.html">View sticky and pop-up notifications</a>
</li>
<li><a href="stop_checks_list_reference.html">View stop check payment requests</a>
</li>
<li><a href="view_sweep_details_reference.html">View sweep details</a>
</li>
<li><a href="transactions_reference.html">View transactions table</a>
</li>
</ul>
</li>
<li><a href="bb_product_compatibility.html">Backbase product compatibility</a>
</li>
<li><a href="retirement.html">Backbase software lifecycle</a>
</li>
<li><a href="downloads_all.html">Downloads</a>
</li>
<li><a href="glossary.html">Glossary</a>
</li>
<li><a href="modendtbl.html">Module/Endpoint list</a>
</li>
<li><a href="payments_schematics_reference.html">Payments Schematics</a>
</li>
<li><a href="platform_support.html">Software requirements</a>
</li>
<li><a href="third_party_dependencies.html">Third-party dependencies</a>
</li>
<li><a href="troubleshoot_angular_10_upgrade.html">Troubleshooting Angular 10 upgrade</a>
</li>
</ul>
</li>
<li><a href="release_notes.html">Release notes</a>
<ul class="sectlevel2">
<li><a href="cb3_3_10_1.html">Business Banking Widget Collection v3.10.1</a>
</li>
<li><a href="cb3_3100.html">Business Banking Widget Collection v3.10.0</a>
</li>
<li><a href="cb3_395.html">Business Banking Widget Collection v3.9.5</a>
</li>
<li><a href="cb3_394.html">Business Banking Widget Collection v3.9.4</a>
</li>
<li><a href="cb3_393.html">Business Banking Widget Collection v3.9.3</a>
</li>
<li><a href="cb3_392.html">Business Banking Widget Collection v3.9.2</a>
</li>
<li><a href="cb3_391.html">Business Banking Widget Collection v3.9.1</a>
</li>
<li><a href="cb3_390.html">Business Banking Widget Collection v3.9.0</a>
</li>
<li><a href="cb3_381.html">Business Banking Widget Collection v3.8.1</a>
</li>
<li><a href="cb3_380.html">Business Banking Widget Collection v3.8.0</a>
</li>
<li><a href="cb3_371.html">Widget Collection Business Banking v3.7.1</a>
</li>
<li><a href="cb3_370.html">Widget Collection Business Banking v3.7.0</a>
</li>
<li><a href="cb3_362.html">Widget Collection Business Banking v3.6.2</a>
</li>
<li><a href="cb3_361.html">Widget Collection Business Banking v3.6.1</a>
</li>
<li><a href="cb3_360.html">Widget Collection Business Banking v3.6.0</a>
</li>
<li><a href="cb3_353.html">Widget Collection Business Banking v3.5.3</a>
</li>
<li><a href="cb3_352.html">Widget Collection Business Banking v3.5.2</a>
</li>
<li><a href="cb3_351.html">Widget Collection Business Banking v3.5.1</a>
</li>
<li><a href="bb_350.html">Widget Collection Business Banking v3.5.0</a>
</li>
<li><a href="bb_343.html">Widget Collection Business Banking v.3.4.3</a>
</li>
<li><a href="bb_342.html">Widget Collection Business Banking v.3.4.2</a>
</li>
<li><a href="bb_341.html">Widget Collection Business Banking v.3.4.1</a>
</li>
<li><a href="bb_340.html">Business Banking Widget Collection v.3.4.0</a>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<h1 id="configure_navigation_notifications_widgets" class="sect0">Configure navigation for Notifications widgets</h1>
          <div class="paragraph">
<p>The Notifications widgets support navigation from an individual notification to the following
target widgets out of the box:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Notification type</th>
<th class="tableblock halign-left valign-top">Destination widget</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">New message received</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>View conversation thread by the customer</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Contact change rejected or approved</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>View contact list</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Payment rejected or approved</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Manage payments</strong></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>This section explains how to configure such navigation.</p>
</div>
<h2 id="_prerequisites_6" class="discrete">Prerequisites</h2>
<div class="paragraph">
<p>In order to adopt or extend Backbase products, you need the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Access to an Install and configure development environment.</p>
</li>
<li>
<p>Routing configured in a <a href="https://community.backbase.com/documentation/DBS/2.21.1/define_recipe_specification">recipe specification</a>
in Actions or passed in the Notifications endpoint payloads.</p>
</li>
</ul>
</div>
<h2 id="_configure_navigation_to_target_widgets" class="discrete">Configure navigation to target widgets</h2>
<div class="paragraph">
<p>Take the following steps to configure navigation:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Use <a href="http://wa3.backbase.com/foundation/6.13.1/howto/schematics">@bb-cli/schematics</a> to
<a href="https://community.backbase.com/documentation/foundation_angular/6.13.1/develop_a_new_widget">scaffold a container widget</a>.</p>
<div class="paragraph">
<p>For example, generate a <code>notifications-routing-container</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>npm run ng -- generate widget --name=notifications-routing-container</code></pre>
</div>
</div>
</li>
<li>
<p>In the generated <code>&lt;name&gt;.component.ts</code> file, for example, <code>&lt;notifications-routing-container&gt;.component.ts</code>,
specify required routing outputs and inputs.
The outputs map to backend fields in a <a href="https://community.backbase.com/documentation/DBS/2.21.1/define_recipe_specification">recipe specification</a>
and represent target widgets.
The inputs represent routing data passed from your Notifications or custom widget.
For example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>import { Component, EventEmitter, Input, Output } from '@angular/core';
import { ItemModelTree } from '@backbase/foundation-ang/core';
import { Observable } from 'rxjs';

@Component({
  selector: 'bb-notifications-business-routing-container-ang',
  template: '&lt;bb-area [children]="(children | async) || []"&gt;&lt;/bb-area&gt;',
})
export class NotificationsBusinessRoutingContainerAngComponent {
  @Output() viewConversation = new EventEmitter&lt;string&gt;();
  @Output() viewContact = new EventEmitter&lt;string&gt;();
  @Output() viewPayment = new EventEmitter&lt;string&gt;();

  @Input() set notificationRouting(routing: any) {
    const payloadId =
      (routing['where-to'] === 'transaction-view' ? routing?.data?.arrangementId : routing?.data?.id) || '';

    switch (routing['where-to']) {
      case 'conversation-view':
        this.viewConversation.emit(payloadId);
        break;
      case 'party-view':
        this.viewContact.emit(payloadId);
        break;
      case 'payment-view':
        this.viewPayment.emit(payloadId);
        break;
    }
  }

  children: Observable&lt;Array&lt;ItemModelTree&gt;&gt; = this.model.children;

  constructor(private readonly model: ItemModelTree) {}
}</code></pre>
</div>
</div>
</li>
<li>
<p>Edit the container’s <code>model.xml</code> file:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&gt;
&lt;catalog&gt;
  &lt;container&gt;
    &lt;name&gt;bb-notifications-routing-container&lt;/name&gt;
    &lt;properties&gt;
      &lt;property name="classId"&gt;
        &lt;value&gt;NotificationsRoutingContainerComponent&lt;/value&gt;
      &lt;/property&gt;
      &lt;property name="src"&gt;
        &lt;value&gt;$(itemRoot)/index.html&lt;/value&gt;
      &lt;/property&gt;
      &lt;property name="render.requires"&gt;
        &lt;value&gt;render-bb-widget-3&lt;/value&gt;
      &lt;/property&gt;
      &lt;property name="title" label="Title" readonly="true" viewHint="admin,designModeOnly"&gt;
        &lt;value type="string"&gt;NotificationsRoutingContainer&lt;/value&gt;
      &lt;/property&gt;
      &lt;property name="thumbnailUrl"&gt;
        &lt;value&gt;$(itemRoot)/icon.png&lt;/value&gt;
      &lt;/property&gt;
      &lt;property name="label"&gt;
        &lt;value&gt;Angular NotificationsRoutingContainer&lt;/value&gt;
      &lt;/property&gt;
      &lt;property
        name="input.notificationRouting"
        label="Takes routing metadata"
        viewHint="text-input,admin,designModeOnly"&gt;
        &lt;value&gt;memory&lt;/value&gt;
      &lt;/property&gt;
      &lt;property
        name="output.viewConversation"
        label="View conversation event with id"
        viewHint="text-input,admin,designModeOnly"&gt;
        &lt;value&gt;route-param&lt;/value&gt;
      &lt;/property&gt;
      &lt;property
        name="output.viewContact"
        label="View contact event with id"
        viewHint="text-input,admin,designModeOnly"&gt;
        &lt;value&gt;route-param&lt;/value&gt;
      &lt;/property&gt;
      &lt;property
        name="output.viewPayment"
        label="View payment event with id"
        viewHint="text-input,admin,designModeOnly"&gt;
        &lt;value&gt;route-param&lt;/value&gt;
      &lt;/property&gt;
    &lt;/properties&gt;
  &lt;/container&gt;
&lt;/catalog&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>where:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>&lt;container&gt;</code>&#8230;&#8203;<code>&lt;/container&gt;</code> instructs the widget to act as a container.</p>
</li>
<li>
<p><code>&lt;property name="input.notificationRouting"</code> represents the routing metadata that comes from the
widget.</p>
</li>
<li>
<p><code>&lt;property name="output&#8230;&#8203;.</code> represents dynamically added communication outputs for each type of
navigation. These outputs are then used to configure communication between widgets. See
<a href="https://community.backbase.com/documentation/foundation_angular/6.13.1/configure_communication">Configure communication between widgets</a>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Specify the <code>allowedRoutes</code> preference in the <code>model.xml</code> file for the Notifications widget. For example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;property
name="allowedRoutes"
label="String of allowed routes (conversation-view, arrangement-view, transaction-view, party-view, ... , )"
viewHint="text-input,admin,designModeOnly"&gt;
&lt;value type="string"&gt;conversation-view, party-view, payment-view&lt;/value&gt;
&lt;/property&gt;</code></pre>
</div>
</div>
</li>
<li>
<p>Wrap the Notifications widget with the created container in Experience Manager. Place this container on all the pages related to
routing between widgets. This container can be used for handling routing in <strong>Notification badge</strong>,
<strong>View sticky and pop-up notifications</strong>, or your custom widget.</p>
</li>
</ol>
</div>
</div>
</body>
</html>