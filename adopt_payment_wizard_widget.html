<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.8">
<meta name="keywords" content="Business Banking Widget Collection, BACKBASE, services">
<title>Adopt the Payment Wizard widget</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<link rel="stylesheet" href="./asciidoctor.css">
<style>.toc-current{font-weight: bold;} .toc-root{font-family: "Open Sans","DejaVu Sans",sans-serif;
                         font-size: 0.9em;} #content{display: flex; flex-direction: column; flex: 1 1 auto;}
               .nav-footer{text-align: center; margin-top: auto;}
               .nav-footer > p > a {white-space: nowrap;}</style>
</head>
<body id="adopt_payment_wizard_widget" class="book toc2 toc-left">
<div id="header">
<h1>Adopt the Payment Wizard widget</h1>
<div class="details">
<span id="revnumber">version 3.10.1</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<p><span class="toc-root toc-current"><a href="index.html">Business Banking Widget Collection</a></span></p><ul class="sectlevel1">
<li><a href="understand.html">Understand  Business Banking Widget Collection v3.10.1</a>
<ul class="sectlevel2">
<li><a href="what_are_widget_collections.html">What is Business Banking Widget Collection</a>
</li>
<li><a href="accountstatements_understand.html">Understand Account Statements</a>
<ul class="sectlevel3">
<li><a href="web_account_statements.html">Web widgets</a>
</li>
</ul>
</li>
<li><a href="authentication_understand.html">Understand Authentication</a>
<ul class="sectlevel3">
<li><a href="web_authentication.html">Web widgets</a>
</li>
</ul>
</li>
<li><a href="batches_understand.html">Understand Batches</a>
<ul class="sectlevel3">
<li><a href="web_batches.html">Web widgets</a>
</li>
</ul>
</li>
<li><a href="cardmanagement_understand.html">Understand Card Management</a>
<ul class="sectlevel3">
<li><a href="web_card_management.html">Web widgets</a>
</li>
</ul>
</li>
<li><a href="cashflowforecasting_understand.html">Understand Cash Flow Forecasting</a>
<ul class="sectlevel3">
<li><a href="web_cash_flow_forecasting.html">Web widgets</a>
</li>
</ul>
</li>
<li><a href="contacts_understand.html">Understand Contacts</a>
<ul class="sectlevel3">
<li><a href="web_contacts.html">Web widgets</a>
</li>
</ul>
</li>
<li><a href="fx_trading_understand.html">Understand FX Trading</a>
<ul class="sectlevel3">
<li><a href="web_fx_trading.html">Web widgets</a>
</li>
</ul>
</li>
<li><a href="messages_understand.html">Understand Messages</a>
<ul class="sectlevel3">
<li><a href="web_messages.html">Web widgets</a>
</li>
</ul>
</li>
<li><a href="notifications_understand.html">Understand Notifications</a>
<ul class="sectlevel3">
<li><a href="web_notifications.html">Web widgets</a>
</li>
</ul>
</li>
<li><a href="payments_understand.html">Understand Payments</a>
<ul class="sectlevel3">
<li><a href="web_payments.html">Web widgets</a>
</li>
</ul>
</li>
<li><a href="places_understand.html">Understand Places</a>
<ul class="sectlevel3">
<li><a href="web_places.html">Web widgets</a>
</li>
</ul>
</li>
<li><a href="product_summary_understand.html">Understand Products</a>
<ul class="sectlevel3">
<li><a href="web_products.html">Web widgets</a>
</li>
</ul>
</li>
<li><a href="sweeping_understand.html">Understand Sweeping</a>
<ul class="sectlevel3">
<li><a href="web_sweeping.html">Web widgets</a>
</li>
</ul>
</li>
<li><a href="transaction_list_understand.html">Understand Transactions</a>
<ul class="sectlevel3">
<li><a href="web_transactions.html">Web widgets</a>
</li>
</ul>
</li>
<li><a href="user_self_service.html">Understand User Self Service</a>
<ul class="sectlevel3">
<li><a href="web_user_management.html">Web widgets</a>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="install_and_configure.html">Install</a>
<ul class="sectlevel2">
<li><a href="install_the_widget_collection_3_demo.html">Deploy the demo app for web</a>
</li>
<li><a href="install_the_lean_page_template.html">Install the lean page template for Widget Collection 3</a>
</li>
<li><a href="setup_widget_development_environment.html">Set up a widget development environment</a>
</li>
</ul>
</li>
<li><a href="use.html">Adopt</a>
<ul class="sectlevel2">
<li><a href="adopt_omni_payment_widget.html">Adopt the Initiate omni payment widget</a>
</li>
<li><a href="configure_create_payment_template_widget.html">Configure the Create payment template widget</a>
</li>
<li><a href="adopt_payment_wizard_widget.html"><span class="toc-current">Adopt the Payment Wizard widget</span></a>
</li>
<li><a href="adopt_manual_batch_widget.html">Adopt the Create manual batch payments widget</a>
</li>
<li><a href="configure_navigation_notifications_widgets.html">Configure navigation for Notifications widgets</a>
</li>
<li><a href="how_to_use_theming.html">Use theming</a>
</li>
<li><a href="configure_account_numbers_displaying_in_products.html">Configure account numbers formatting for Products widgets</a>
</li>
<li><a href="synchronize_masking_behavior_in_products.html">Synchronize masking behavior with backed in Products widgets.</a>
</li>
</ul>
</li>
<li><a href="extend_and_build.html">Extend and build</a>
<ul class="sectlevel2">
<li><a href="extend_build_web.html">Extend and build web widgets</a>
<ul class="sectlevel3">
<li><a href="configure_batch_types.html">Add a custom batch type to the batch payment widgets</a>
</li>
<li><a href="configure_place_types.html">Customize the Find branches and ATMs widget</a>
</li>
<li><a href="field_mapping.html">Field mapping</a>
</li>
<li><a href="country_injection.html">Country injection</a>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="reference.html">Reference</a>
<ul class="sectlevel2">
<li><a href="web_reference.html">Web widgets</a>
<ul class="sectlevel3">
<li><a href="contact_manager_pending_approvals_reference.html">Approve contact change requests</a>
</li>
<li><a href="cash_flow_common_lib_reference.html">Cash Flow Forecasting common library</a>
</li>
<li><a href="create_message_reference.html">Compose message by the customer</a>
</li>
<li><a href="configure_forecast_reference.html">Configure forecast</a>
</li>
<li><a href="connect_accounting_software_reference.html">Connect accounting software</a>
</li>
<li><a href="contact_create_reference.html">Create business contact</a>
</li>
<li><a href="create_fx_trade_order_reference.html">Create FX trade order</a>
</li>
<li><a href="manual_batch_reference.html">Create manual batch payments</a>
</li>
<li><a href="create_sweep_reference.html">Create sweep</a>
</li>
<li><a href="contact_edit_reference.html">Edit business contact</a>
</li>
<li><a href="places_reference.html">Find branches and ATMs</a>
</li>
<li><a href="ach_debit_reference.html">Initiate ACH debit</a>
</li>
<li><a href="omni_payment_reference.html">Initiate omni payment</a>
</li>
<li><a href="payment_wizard_reference.html">Initiate payment wizard</a>
</li>
<li><a href="login_reference.html">Log in user</a>
</li>
<li><a href="manage_ach_debit_reference.html">Manage ACH debit</a>
</li>
<li><a href="configure_business_approval_notification_settings_reference.html">Manage business approval notification preferences</a>
</li>
<li><a href="batch_upload_log_reference.html">Manage batch file uploads</a>
</li>
<li><a href="manage_batches_reference.html">Manage batch payments</a>
</li>
<li><a href="manage_forecast_settings_reference.html">Manage forecast settings</a>
</li>
<li><a href="contact_manager_business_reference.html">Manage business contacts</a>
</li>
<li><a href="card_management_details_reference.html">Manage cards</a>
</li>
<li><a href="contact_manager_my_requests_reference.html">Manage contact change requests</a>
</li>
<li><a href="contact_details_reference.html">Manage contact details</a>
</li>
<li><a href="manage_payables_reference.html">Manage payables</a>
</li>
<li><a href="manage_payments_reference.html">Manage payments</a>
</li>
<li><a href="manage_payment_templates_reference.html">Manage payment templates</a>
</li>
<li><a href="manage_sweeps_reference.html">Manage sweeps</a>
</li>
<li><a href="card_management_travel_notice_reference.html">Manage travel notice</a>
</li>
<li><a href="manage_user_security_reference.html">Manage user security</a>
</li>
<li><a href="notification_badge_reference.html">Notification badge</a>
</li>
<li><a href="request_stop_checks_reference.html">Request stop checks</a>
</li>
<li><a href="product_summary_account_picker_reference.html">Select business account</a>
</li>
<li><a href="select_context_reference.html">Select context</a>
</li>
<li><a href="upload_batch_reference.html">Upload batch payment</a>
</li>
<li><a href="user_context_menu_reference.html">View and change context</a>
</li>
<li><a href="view_download_business_account_statements_reference.html">View and download business account statements</a>
</li>
<li><a href="batch_payments_reference.html">View batch details</a>
</li>
<li><a href="product_summary_balance_history_reference.html">View business account balance history</a>
</li>
<li><a href="product_summary_account_details_reference.html">View business account details</a>
</li>
<li><a href="product_summary_accounts_overview_reference.html">View business account list</a>
</li>
<li><a href="card_management_overview_reference.html">View cards</a>
</li>
<li><a href="view_forecast_reference.html">View cash flow forecast</a>
</li>
<li><a href="contact_list_reference.html">View contact list</a>
</li>
<li><a href="messages_conversation_thread_reference.html">View conversation thread by the customer</a>
</li>
<li><a href="product_summary_favorite_accounts_reference.html">View favorite accounts</a>
</li>
<li><a href="view_fx_pair_details_reference.html">View FX pair details</a>
</li>
<li><a href="view_fx_rates_reference.html">View FX rates</a>
</li>
<li><a href="messages_conversations_list_reference.html">View messages by the customer</a>
</li>
<li><a href="view_receivables_reference.html">View receivables</a>
</li>
<li><a href="cash_flow_payment_request_details_reference.html">Cash flow payment request details</a>
</li>
<li><a href="view_sticky_popup_notifications_reference.html">View sticky and pop-up notifications</a>
</li>
<li><a href="stop_checks_list_reference.html">View stop check payment requests</a>
</li>
<li><a href="view_sweep_details_reference.html">View sweep details</a>
</li>
<li><a href="transactions_reference.html">View transactions table</a>
</li>
</ul>
</li>
<li><a href="bb_product_compatibility.html">Backbase product compatibility</a>
</li>
<li><a href="retirement.html">Backbase software lifecycle</a>
</li>
<li><a href="downloads_all.html">Downloads</a>
</li>
<li><a href="glossary.html">Glossary</a>
</li>
<li><a href="modendtbl.html">Module/Endpoint list</a>
</li>
<li><a href="payments_schematics_reference.html">Payments Schematics</a>
</li>
<li><a href="platform_support.html">Software requirements</a>
</li>
<li><a href="third_party_dependencies.html">Third-party dependencies</a>
</li>
<li><a href="troubleshoot_angular_10_upgrade.html">Troubleshooting Angular 10 upgrade</a>
</li>
</ul>
</li>
<li><a href="release_notes.html">Release notes</a>
<ul class="sectlevel2">
<li><a href="cb3_3_10_1.html">Business Banking Widget Collection v3.10.1</a>
</li>
<li><a href="cb3_3100.html">Business Banking Widget Collection v3.10.0</a>
</li>
<li><a href="cb3_395.html">Business Banking Widget Collection v3.9.5</a>
</li>
<li><a href="cb3_394.html">Business Banking Widget Collection v3.9.4</a>
</li>
<li><a href="cb3_393.html">Business Banking Widget Collection v3.9.3</a>
</li>
<li><a href="cb3_392.html">Business Banking Widget Collection v3.9.2</a>
</li>
<li><a href="cb3_391.html">Business Banking Widget Collection v3.9.1</a>
</li>
<li><a href="cb3_390.html">Business Banking Widget Collection v3.9.0</a>
</li>
<li><a href="cb3_381.html">Business Banking Widget Collection v3.8.1</a>
</li>
<li><a href="cb3_380.html">Business Banking Widget Collection v3.8.0</a>
</li>
<li><a href="cb3_371.html">Widget Collection Business Banking v3.7.1</a>
</li>
<li><a href="cb3_370.html">Widget Collection Business Banking v3.7.0</a>
</li>
<li><a href="cb3_362.html">Widget Collection Business Banking v3.6.2</a>
</li>
<li><a href="cb3_361.html">Widget Collection Business Banking v3.6.1</a>
</li>
<li><a href="cb3_360.html">Widget Collection Business Banking v3.6.0</a>
</li>
<li><a href="cb3_353.html">Widget Collection Business Banking v3.5.3</a>
</li>
<li><a href="cb3_352.html">Widget Collection Business Banking v3.5.2</a>
</li>
<li><a href="cb3_351.html">Widget Collection Business Banking v3.5.1</a>
</li>
<li><a href="bb_350.html">Widget Collection Business Banking v3.5.0</a>
</li>
<li><a href="bb_343.html">Widget Collection Business Banking v.3.4.3</a>
</li>
<li><a href="bb_342.html">Widget Collection Business Banking v.3.4.2</a>
</li>
<li><a href="bb_341.html">Widget Collection Business Banking v.3.4.1</a>
</li>
<li><a href="bb_340.html">Business Banking Widget Collection v.3.4.0</a>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<h1 id="adopt_payment_wizard_widget" class="sect0">Adopt the Payment Wizard widget</h1>
          <div class="paragraph">
<p>The <strong>Payment Wizard</strong>  widget is configurable to support multiple payment types dynamically based on user input.
This widget can be configured with possible payment types and widget will determine and render the correct payment type based on the
<a href="https://docs.backbase.com/extranet/technical-docs/endpoints/2021.08/dbs.html#specs/payment-order-options-client-api.html">payment options api</a>.</p>
</div>
<div class="paragraph">
<p>The <strong>Payment Wizard</strong> widget uses the existing payment configs from the omni payment widget.
It is built upon the concept of <a href="omni_payment_reference.html">omni payment widget</a> so all the <a href="adopt_omni_payment_widget.html#omni_payment_advanced_config_options">customizations and configurations</a> that are applicable to the <strong>Omni payment</strong> widget will apply to the payment wizard widget as well.</p>
</div>
<div class="paragraph">
<p>The payment wizard is initially rendered with a set of form controls, or base fields. Depending on the user input, the widget fetches
<a href="https://docs.backbase.com/extranet/technical-docs/endpoints/2021.08/specs/payment-order-options-client-api.html#api-PaymentOptions-postPaymentOptions">payment options from dbs</a>
and renders additional form fields dynamically based on the chosen payment type.
The additional form fields are determined based on the delta of base fields and the payment type of the chosen payment option.
When more than one payment type is returned from the payment options API, then the additional fields are determined when the user chooses a particular payment option.</p>
</div>
<div class="paragraph">
<p>The payment wizard uses <a href="https://docs.backbase.com/extranet/technical-docs/endpoints/2021.08/specs/payment-order-options-client-api.html#api-SanctionedCountries-getSanctionedCountries">sanctioned countries api</a> to apply additional settings such as country specific validations and labels for form fields.</p>
</div>
<div class="paragraph">
<p>It uses the <a href="https://docs.backbase.com/extranet/technical-docs/endpoints/2021.08/specs/payment-order-options-client-api.html#api-SanctionedCurrencies-getSanctionedCurrencies">sanctioned currencies api</a> to display the list of possible currencies available (in amount component) for initiating the payment.</p>
</div>
<div class="paragraph">
<p>This section explains how to adopt the <strong>Payment Wizard</strong> widget:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="adopt_payment_wizard_widget.html#payment_wizard_setup_payment_configurations">Setup payment wizard configuration</a>: Provide an out-of-the-box, or a custom payment type configurations and business functions with other optional config options.</p>
</li>
<li>
<p><a href="adopt_payment_wizard_widget.html#override_payment_wizard_review_screen">Override review template (optional)</a>: Customise the review screen (optional).</p>
</li>
</ul>
</div>
<h2 id="_prerequisites_4" class="discrete">Prerequisites</h2>
<div class="paragraph">
<p>Before you start, make sure you have the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Access to a local or shared developer environment.</p>
</li>
<li>
<p>A project setup with Business Banking Widget Collection.</p>
</li>
</ul>
</div>
<h2 id="payment_wizard_setup_payment_configurations" class="discrete">Setup payment wizard configuration</h2>
<div class="paragraph">
<p>Follow these steps to configure the <strong>Payment Wizard</strong> widget with payment configurations:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Scaffold your widget.</strong></p>
<div class="paragraph">
<p>To scaffold your widget, do one of the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Scaffold an empty widget and copy the default routes from the <strong>Payment Wizard</strong> widget.</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>Use <a href="http://wa3.backbase.com/foundation/6.13.1/howto/schematics"><code>@bb-cli/schematics</code></a> to
<a href="https://community.backbase.com/documentation/foundation_angular/6.13.1/widget_development_environment#scaffold_new_widget">scaffold an empty widget</a>.
Give the widget a name, for example <code>payment-wizard-widget-ang</code>.</p>
</li>
<li>
<p>To copy the default routes of <code>PayordPaymentsWizardWidgetComponent</code>, use the
<a href="http://wa3.backbase.com/foundation/6.13.1/api/foundation-ang/core/public_api/CopyRoutes">CopyRoutes</a> decorator.</p>
</li>
<li>
<p>Include the <code>bb-payments-wizard-widget-ang</code> in the component&#8217;s template.
For example:</p>
<div class="listingblock">
<div class="title">payment-wizard-widget-ang.component.ts</div>
<div class="content">
<pre class="highlight"><code class="language-typescript" data-lang="typescript">import { Component } from '@angular/core';
import { PayordPaymentsWizardWidgetComponent } from '@backbase/payord-payments-wizard-widget-ang';
import { CopyRoutes } from '@backbase/foundation-ang/core';

@Component({
  selector: 'bb-custom-payments-wizard-ang',
  template: `
    &lt;bb-payments-wizard-widget-ang&gt;&lt;/bb-payments-wizard-widget-ang&gt;
  `,
})
@CopyRoutes(PayordPaymentsWizardWidgetComponent)
export class CustomPaymentWizardComponent {}</code></pre>
</div>
</div>
</li>
</ol>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Provide the necessary options for the wizard</strong></p>
<div class="paragraph">
<p>The payment wizard widget accepts a set of configuration options. You can provide the configuration options as input to the payment wizard widget from the wrapper component template.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>The supported options in the payment wizard config are below:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Option name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>paymentconfigs</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array of payment configs for the payment types supported by the wizard. The payment configs can be reused from the <a href="adopt_omni_payment_widget.html">omni payment widget</a> omni payment widget. For details on payment config refer <a href="omni_payment_reference.html">out-of-the-box configurations</a>,</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>businessFunctions</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array of business functions for the provided payment configs. These business functions will be used to fetch arrangements for the payment.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>defaultCountry</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An optional ISO country code that is used to fetch the sanctioned countries and sanctioned currencies.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>enableApprovals</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Flag to enable approval while submitting the payment. Enabling this option will provide an option to <code>Submit and approve</code> the payment. Default value is <code>true</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>enablePaymentTemplateSelector</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Flag to toggle save as payment template button in review screen. Default value is <code>true</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>enableSavePaymentAsTemplate</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Flag to toggle the payment template dropdown in form screen. Default value is <code>true</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>accessContextScope</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Access context scope for creating contact. Supports values <code>USER</code>, <code>SA</code>, or <code>LE</code> Default value is <code>SA</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>baseFields</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An array of <code>PaymentFormFieldConfig</code> or <code>PaymentFormGroup</code> that is rendered initially. These fields are also used to determine the additional fields to be rendered. When a payment type is decided the additional fields are determined based on the delta of the base fields and the payment config of decided payment type.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>customFields</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A map of custom components that can be used to override the existing out-of-the-box components. Refer <a href="adopt_omni_payment_widget.html#custom_paymenttype_overridecomponents">override components</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>hooks</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A set of custom methods that will be provided to customize the behaviour of the wizard dynamically. Refer <a href="adopt_omni_payment_widget.html#provide_hooks_to_the_form_field_configuration">provide form field hooks</a> to provide hooks for specific form control.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fetchPaymentOptionsListener</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A custom function that can be used to override the behavior of triggering the payment options API.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>For Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-typescript" data-lang="typescript">import { Component } from '@angular/core';
import { PaymentWizardConfig, PayordPaymentsWizardWidgetComponent } from '@backbase/payord-payments-wizard-widget-ang';
import {
  SEPA,
  CHAPS,
  US_DOMESTIC_WIRE,
  US_ACH_CREDIT,
  INTERNATIONAL_TRANSFER,
  UK_FASTER_PAYMENT,
} from '@backbase/payment-orders-ang/configs';
import { CopyRoutes } from '@backbase/foundation-ang/core';

@Component({
  selector: 'bb-custom-payments-wizard-ang',
  template: `
    &lt;bb-payments-wizard-widget-ang [config]="config"&gt;&lt;/bb-payments-wizard-widget-ang&gt;
  `,
})
@CopyRoutes(PayordPaymentsWizardWidgetComponent)
export class CustomPaymentWizardComponent {
  config: PaymentWizardConfig = {
    businessFunctions: ['SEPA CT', 'UK CHAPS', 'UK Foreign Wire', 'US Domestic Wire', 'ACH Credit Transfer'],
    paymentconfigs: [SEPA, CHAPS, UK_FASTER_PAYMENT, INTERNATIONAL_TRANSFER, US_DOMESTIC_WIRE, US_ACH_CREDIT],
    defaultCountry: 'GB',
    enableApprovals: false,
    enablePaymentTemplateSelector: false,
    enableSavePaymentAsTemplate: false,
  };
}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
In order to support using existing payment configs in the payment wizard, the utility classes for padding and margin should be removed from the <code>cssClasses</code> option in form field configs. Having these classes will end up having alignment issues in both omni payment widget and payment wizard.
</td>
</tr>
</table>
</div>
<h2 id="override_payment_wizard_review_screen" class="discrete">Override review template (optional)</h2>
<div class="paragraph">
<p>To use a different template in the review screen, add a custom <code>reviewTemplate</code> as input to the <code>PayordPaymentsWizardWidgetComponent</code> in addition to config.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-html" data-lang="html">&lt;bb-payments-wizard-widget-ang [config]="config" [reviewTemplate]="rt"&gt;&lt;/bb-payments-wizard-widget-ang&gt;
&lt;ng-template
  let-payment
  let-paymentConfig="paymentConfig"
  let-status="status"
  let-methods="methods"
  let-isSubmitting="isSubmitting"
  let-breachError="breachError"
  #rt&gt;
  &lt;fieldset class="bb-fieldset"&gt;
    &lt;legend
      class="bb-label bb-block bb-block--md"
      *ngIf="!status || status ===  'LIMIT_BREACH' || status ===  'USER_DECLINED' else paymentSubmitted"
      i18n="@@wizard-review-page-title.review-payment.label"
    &gt;
      Review payment
    &lt;/legend&gt;

    &lt;ng-template #paymentSubmitted&gt;
      &lt;legend
        class="bb-label bb-block bb-block--md"
        i18n="@@wizard-review-page-title.payment-submitted.label"
      &gt;
        Payment submitted
      &lt;/legend&gt;
    &lt;/ng-template&gt;


    &lt;ng-container *ngIf="payment"&gt;
      &lt;div class="bb-block bb-block--md" *ngIf="status"&gt;
        &lt;bb-payord-status-card
          [status]="methods.isApprovalPending() ? 'pending': 'success'"
          [message]="methods.getPaymentMessage()"
          *ngIf="status === 'SUCCESS'"
        &gt;&lt;/bb-payord-status-card&gt;

        &lt;ng-container *ngIf="!!status &amp;&amp; status !== 'SUCCESS'"&gt;
          &lt;ng-container [ngSwitch]="status"&gt;
            &lt;bb-alert-ui
              title=""
              (close)="false"
              modifier="error"
              [ngSwitch]="status"
            &gt;
              &lt;div class="bb-stack" *ngSwitchCase="'LIMIT_BREACH'"&gt;
                &lt;div
                  class="bb-stack__item"
                  data-role="failure-message"
                  i18n="@@wizard-review-limit-breach-error"
                &gt;
                  Payment cannot be submitted because your limits have been breached
                &lt;/div&gt;
                &lt;button
                  bbButton
                  color="unstyled"
                  buttonSize="sm"
                  i18n="@@wizard-review-limit-breach-error-see-details-button"
                  class="bb-stack__item bb-stack__item--push-right alert-link"
                  data-role="failure-see-details"
                  (click)="methods.showBreachModal()"
                &gt;
                  See details
                &lt;/button&gt;
              &lt;/div&gt;
              &lt;div *ngSwitchCase="'USER_DECLINED'"
                data-role="failure-message"&gt;
                &lt;div class="bb-text-bold" i18n="@@payment-wizard-review-txn-signing-cancelled-error-title"&gt;Payment not submitted&lt;/div&gt;
                &lt;div i18n="@@payment-wizard-review-txn-signing-cancelled-error-msg"&gt;The transaction signing request was cancelled&lt;/div&gt;
              &lt;/div&gt;
              &lt;div *ngSwitchDefault
                data-role="failure-message"
                i18n="@@wizard-review-payment-failed-alert.label"&gt;
                Failed to submit payment. Please try again later.
              &lt;/div&gt;
            &lt;/bb-alert-ui&gt;
          &lt;/ng-container&gt;
        &lt;/ng-container&gt;
      &lt;/div&gt;

      &lt;div
        *ngIf="payment?.isIntraLegalEntity || payment?.remittanceInfo?.urgent"
        class="bb-block bb-block--md bb-inline-stack bb-text-support"&gt;
        &lt;div class="bb-inline-stack bb-inline-stack__item" *ngIf="payment?.isIntraLegalEntity" &gt;
          &lt;bb-icon-ui name="domain"&gt;&lt;/bb-icon-ui&gt;
          &lt;div class="bb-inline-stack__item"&gt;&lt;/div&gt;
          &lt;div
            class="bb-inline-stack__item bb-text-bold bb-inline-stack__item--spacing-sm" i18n="@@wizard-review-intra-company-transfer-label"
          &gt;
            Intracompany payment
          &lt;/div&gt;
        &lt;/div&gt;
        &lt;div *ngIf="payment?.remittanceInfo?.urgent" class="bb-inline-stack bb-inline-stack__item"&gt;
          &lt;bb-icon-ui name="priority-high"&gt;&lt;/bb-icon-ui&gt;
          &lt;div class="bb-inline-stack__item"&gt;&lt;/div&gt;
          &lt;div class="bb-inline-stack__item bb-text-bold" data-role="urgent-payment" i18n="@@wizard-review-urgent-transfer-label"&gt;
            Urgent payment
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/div&gt;

      &lt;div class="bb-payment-account-details-card__container d-none d-md-flex"&gt;
        &lt;div class="bb-text-bold w-md-50"&gt;
          &lt;ng-container *ngTemplateOutlet="dynamicLabelInitiator"&gt;&lt;/ng-container&gt;
        &lt;/div&gt;
        &lt;div class="mr-3"&gt;&amp;nbsp;&lt;/div&gt;
        &lt;div class="bb-text-bold w-md-50"&gt;
          &lt;ng-container *ngTemplateOutlet="dynamicLabelCounterparty"&gt;&lt;/ng-container&gt;
        &lt;/div&gt;
      &lt;/div&gt;

      &lt;div class="bb-payment-account-details-card__container bb-block bb-block--md break-word"&gt;
        &lt;div class="w-md-50"&gt;
          &lt;div class="bb-text-bold d-md-none"&gt;
            &lt;ng-container *ngTemplateOutlet="dynamicLabelInitiator"&gt;&lt;/ng-container&gt;
          &lt;/div&gt;
          &lt;bb-debitor-details-card [details]="payment?.initiator"&gt;&lt;/bb-debitor-details-card&gt;
        &lt;/div&gt;

        &lt;div class="justify-content-center align-items-center d-flex"&gt;
          &lt;bb-icon-ui class="bb-account-transfer-icon" name="arrow-forward"&gt;&lt;/bb-icon-ui&gt;
        &lt;/div&gt;

        &lt;div class="w-md-50"&gt;
          &lt;div class="bb-text-bold d-md-none"&gt;
            &lt;ng-container *ngTemplateOutlet="dynamicLabelCounterparty"&gt;&lt;/ng-container&gt;
          &lt;/div&gt;
          &lt;bb-creditor-details-card [details]="payment?.counterparty"&gt;&lt;/bb-creditor-details-card&gt;
        &lt;/div&gt;
      &lt;/div&gt;

      &lt;ng-template #dynamicLabelInitiator&gt;
        &lt;bb-payord-dynamic-label
          name="initiator"
          [config]="paymentConfig"
          defaultLabel="From"
          i18n-defaultLabel="@@wizard-review-initiator-title"
        &gt;&lt;/bb-payord-dynamic-label&gt;
      &lt;/ng-template&gt;

      &lt;ng-template #dynamicLabelCounterparty&gt;
        &lt;bb-payord-dynamic-label
          name="counterparty"
          [config]="paymentConfig"
          defaultLabel="To"
          i18n-defaultLabel="@@wizard-review-counterparty-title"
        &gt;&lt;/bb-payord-dynamic-label&gt;
      &lt;/ng-template&gt;

      &lt;bb-payord-amount-details
        [config]="paymentConfig"
        [details]="payment?.remittanceInfo"
        [transferFee]="payment?.transferFee"
        [chargeBearer]="payment?.chargeBearer"
        [forexDetails]="methods.getForexDetails(payment)"
      &gt;&lt;/bb-payord-amount-details&gt;

      &lt;bb-payord-counterparty-details
        [details]="payment?.counterparty"
        [config]="paymentConfig"
      &gt;&lt;/bb-payord-counterparty-details&gt;


      &lt;div *ngIf="payment?.messageToBank || payment?.remittanceInfo?.description || payment?.remittanceInfo?.paymentReference || payment?.counterparty.messageToBank || payment?.counterparty.remittanceInformation"&gt;
        &lt;hr&gt;
        &lt;div class="bb-block bb-block--md" *ngIf="payment?.remittanceInfo?.paymentReference"&gt;
          &lt;div
            class="bb-text-bold"
            data-role="payment-reference-label"
          &gt;
            &lt;bb-payord-dynamic-label
              name="paymentReference"
              [config]="paymentConfig"
              parentName="remittanceInfo"
              defaultLabel="Payment reference"
              i18n-defaultLabel="@@wizard-review-payment-referance-title"
            &gt;&lt;/bb-payord-dynamic-label&gt;
          &lt;/div&gt;
          &lt;div class="break-word" data-role="payment-reference"&gt;
            {{ payment?.remittanceInfo?.paymentReference }}
          &lt;/div&gt;
        &lt;/div&gt;

        &lt;div class="bb-block bb-block--md" *ngIf="payment?.remittanceInfo?.description"&gt;
          &lt;div
            class="bb-text-bold"
            data-role="payment-description-label"
          &gt;
          &lt;bb-payord-dynamic-label
            name="description"
            [config]="paymentConfig"
            parentName="remittanceInfo"
            defaultLabel="Description"
            i18n-defaultLabel="@@wizard-review-description-title"
          &gt;&lt;/bb-payord-dynamic-label&gt;
          &lt;/div&gt;
          &lt;div class="break-word" data-role="payment-description"&gt;
            {{ payment?.remittanceInfo?.description }}
          &lt;/div&gt;
        &lt;/div&gt;

        &lt;div class="bb-block bb-block--md" *ngIf="payment?.counterparty.remittanceInformation"&gt;
          &lt;div class="bb-text-bold"&gt;
            &lt;bb-payord-dynamic-label
              name="remittanceInformation"
              [config]="paymentConfig"
              defaultLabel="Message to beneficiary"
              i18n-defaultLabel="@@wizard-review-message-to-beneficiary-title"
            &gt;&lt;/bb-payord-dynamic-label&gt;
          &lt;/div&gt;
          &lt;div data-role="description" class="break-word"&gt;{{payment?.counterparty?.remittanceInformation}}&lt;/div&gt;
        &lt;/div&gt;

        &lt;div class="bb-block bb-block--md" *ngIf="payment?.messageToBank || payment?.counterparty?.messageToBank"&gt;
          &lt;div class="bb-text-bold"&gt;
            &lt;bb-payord-dynamic-label
              name="messageToBank"
              [config]="paymentConfig"
              defaultLabel="Message to beneficiary bank"
              i18n-defaultLabel="@@wizard-review-message-to-bank.label"
            &gt;&lt;/bb-payord-dynamic-label&gt;
          &lt;/div&gt;
          &lt;div class="break-word" data-role="message-to-bank"&gt;{{payment?.counterparty?.messageToBank || payment?.messageToBank}}&lt;/div&gt;
        &lt;/div&gt;
        &lt;hr&gt;
      &lt;/div&gt;

      &lt;bb-payord-schedule-details [paymentConfig]="paymentConfig" [data]="payment?.schedule"&gt;&lt;/bb-payord-schedule-details&gt;
    &lt;/ng-container&gt;
  &lt;/fieldset&gt;

  &lt;ng-container *ngIf="!status || status ===  'LIMIT_BREACH' || status ===  'USER_DECLINED' else newPayment"&gt;
    &lt;div class="bb-button-bar bb-button-bar--reverse"&gt;
      &lt;button
        bbButton
        class="bb-button-bar__button"
        data-role="submit-button"
        (click)="methods.submit()"
        *ngIf="!methods.isApprovalEnabled()"
        [disabled]="isSubmitting"
        i18n="@@Wizard-review-submit-dropdown-btn"&gt;
        Submit
      &lt;/button&gt;
      &lt;div class="btn-group bb-button-bar__button" data-role="button-group" *ngIf="methods.isApprovalEnabled()"&gt;
        &lt;bb-load-button-ui
          color="primary"
          data-role="submit-button"
          [isLoading]="isSubmitting"
          (click)="methods.submit()"
          i18n="@@Wizard-review-submit-btn"&gt;
            Submit
        &lt;/bb-load-button-ui&gt;

        &lt;bb-dropdown-menu-ui
          class="btn-group"
          btnColor="primary"
          icon="caret-down"
          data-role="dropdown-menu"
          container="body"
          position="top-right"
        &gt;
          &lt;ng-template bbDropdownMenuItem&gt;
            &lt;button
              role="menuitem"
              type="button"
              class="dropdown-item"
              data-role="bus-submit-and-approve-button"
              [disabled]="isSubmitting"
              (bbKeyboardClick)="methods.submit(true)"
              i18n="@@Wizard-review-submit-and-approve-btn"&gt;
              Submit and Approve
            &lt;/button&gt;
          &lt;/ng-template&gt;
        &lt;/bb-dropdown-menu-ui&gt;
      &lt;/div&gt;
      &lt;button
        class="bb-button-bar__button"
        bbButton
        color="secondary"
        (click)="methods.edit()"
        [disabled]="isSubmitting"
        data-role="edit-button"
        i18n="@@Wizard-review-edit-btn"&gt;
        Edit
      &lt;/button&gt;
      &lt;button
        bbButton
        class="bb-button-bar__button bb-button-bar__button--across"
        color="link"
        data-role="cancel-button"
        (click)="methods.toggleDiscardDialog()"
        [disabled]="isSubmitting"
        i18n="@@Wizard-review-sdiscard-btn"&gt;
        Discard
      &lt;/button&gt;
    &lt;/div&gt;
  &lt;/ng-container&gt;

  &lt;div *ngIf="isSubmitting" class="position-absolute w-100 h-100 top-0 fixed-top bg-white" [style.opacity]="0.6"&gt;
    &lt;bb-loading-indicator-ui loaderSize="lg" class="absolute-center"&gt;&lt;/bb-loading-indicator-ui&gt;
  &lt;/div&gt;

  &lt;ng-template #newPayment&gt;
    &lt;div class="bb-button-bar bb-button-bar--reverse"&gt;
      &lt;button
        bbButton
        class="bb-button-bar__button"
        data-role="new-payment-button"
        *ngIf="status"
        (click)="methods.reset()"
        [disabled]="methods.isSavingTemplate$() | async"
        i18n="@@wizard-payment-review-btn-group-new-payment.label"
      &gt;
        New Payment
      &lt;/button&gt;

      &lt;button
        *ngIf="status === 'SUCCESS' &amp;&amp; methods.isPaymentTemplateEnabled() &amp;&amp; (createTemplatePermission$ | async)"
        bbButton
        color="secondary"
        class="bb-button-bar__button"
        data-role="save-as-template-button"
        (click)="methods.openTemplateModal()"
        [disabled]="methods.isTemplateSaved()"
        i18n="@@wizard-payment-review-btn-group-save-as-template.label"
      &gt;
        Save as a template
      &lt;/button&gt;
    &lt;/div&gt;
  &lt;/ng-template&gt;

  &lt;bb-modal-ui
    [isOpen]="methods.showDiscardDialog()"
    (cancel)="methods.toggleDiscardDialog()"
    (confirm)="methods.reset()"&gt;
    &lt;bb-modal-header-ui title="Discard entered data?" i18n-title="wizard-review-discard-modal-title"&gt;&lt;/bb-modal-header-ui&gt;
    &lt;bb-modal-body-ui&gt;
      &lt;ng-template bbCustomModalBody&gt;
        &lt;ng-container i18n="@@wizard-review-discard-modal-content"&gt;
          Are you sure to exit and discard all changes? Entered data will be lost.
        &lt;/ng-container&gt;
      &lt;/ng-template&gt;
    &lt;/bb-modal-body-ui&gt;

    &lt;bb-modal-footer-ui #modalFooterRef&gt;
      &lt;ng-template bbCustomModalFooter&gt;
        &lt;div class="bb-button-bar"&gt;
          &lt;button
            bbButton
            color="danger"
            data-role="discard-action-btn"
            class="bb-button-bar__button"
            (click)="methods.reset()"
            i18n="@@wizard-review-discard-modal-discard-btn"&gt;
            Discard
          &lt;/button&gt;
          &lt;button
            bbButton
            class="bb-button-bar__button"
            data-role="cancel-action-btn"
            color="link"
            (click)="methods.toggleDiscardDialog()"
            i18n="@@wizard-review-discard-modal-cancel-btn"
          &gt;
            Cancel
          &lt;/button&gt;
        &lt;/div&gt;
      &lt;/ng-template&gt;
    &lt;/bb-modal-footer-ui&gt;
  &lt;/bb-modal-ui&gt;

  &lt;bb-breach-limit-details
    [paymentDetails]="paymentItem"
    [error]="breachError"
    [isOpen]="showBreachDetails"
    (close)="hideBreachModal()"
  &gt;&lt;/bb-breach-limit-details&gt;
&lt;/ng-template&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The template provided to the reviewTemplate input has following inputs provided in the template context.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>default</code> or <code>$implicit</code> - the payment details of the form .</p>
</li>
<li>
<p><code>status</code> - the status of the payment. This value is available after the payment is submitted.</p>
</li>
<li>
<p><code>paymentConfig</code> - the payment config item</p>
</li>
<li>
<p><code>methods</code> - an object that contains a bunch of accessible methods in the review container. The below table describes the available methods.</p>
</li>
<li>
<p><code>isSubmitting</code> - a flag that denotes that the payment submitting is in progress. This can be used to show a loader and/or disable buttons.</p>
</li>
</ol>
</div>
<h3 id="provide_hooks_to_the_wizard_configuration" class="discrete">Provide hooks to the wizard configuration - optional</h3>
<div class="paragraph">
<p>You can provide hooks to the payment wizard configuration similar to providing hooks for <a href="adopt_omni_payment_widget.html#provide_hooks_to_the_payment_configuration">payment configs</a>. There are four hooks supported by a wizard config, they are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>onInit</code>: Triggered when the payment form is initialized.</p>
</li>
<li>
<p><code>onDestroy</code>: Triggered when the payment form is destroyed.</p>
</li>
<li>
<p><code>onSave</code>: Triggered when you click on continue and go to the review screen.</p>
</li>
<li>
<p><code>onSubmit</code>: Triggered when you submit the payment in the review screen.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <code>onSave</code> and <code>onSubmit</code> payment hooks function would receive <code>PaymentHooksParams</code> that contains the following details:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>doneFn</code>: A callback function you should trigger when the hook is completed.</p>
</li>
<li>
<p><code>form</code>: The entire payment form.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The wizard hooks will override any hooks provided to the payment config but the form field hooks will still work as expected.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-typescript" data-lang="typescript">import { Component } from '@angular/core';
import { PaymentWizardConfig, PayordPaymentsWizardWidgetComponent } from '@backbase/payord-payments-wizard-widget-ang';
import {
  SEPA,
  CHAPS,
  US_DOMESTIC_WIRE,
  US_ACH_CREDIT,
  INTERNATIONAL_TRANSFER,
  UK_FASTER_PAYMENT,
  PaymentHooksParams,
} from '@backbase/payment-orders-ang/configs';
import { CopyRoutes } from '@backbase/foundation-ang/core';

@Component({
  selector: 'bb-custom-payments-wizard-ang',
  template: `
    &lt;bb-payments-wizard-widget-ang [config]="config"&gt;&lt;/bb-payments-wizard-widget-ang&gt;
  `,
})
@CopyRoutes(PayordPaymentsWizardWidgetComponent)
export class CustomPaymentWizardComponent {
  config: PaymentWizardConfig = {
    businessFunctions: ['SEPA CT', 'UK CHAPS', 'UK Foreign Wire', 'US Domestic Wire', 'ACH Credit Transfer'],
    paymentconfigs: [SEPA, CHAPS, UK_FASTER_PAYMENT, INTERNATIONAL_TRANSFER, US_DOMESTIC_WIRE, US_ACH_CREDIT],
    defaultCountry: 'GB',
    enableApprovals: false,
    hooks: {
      onInit() {
        console.log('onInit hook');
      },
      onDestroy() {
        console.log('onDestroy hook');
      },
      onSave({ form, doneFn }: PaymentHooksParams) {
        console.log('onSave hook', form, doneFn);
        doneFn();
      },
      onSubmit({ form, doneFn }: PaymentHooksParams) {
        console.log('onSubmit hook', form, doneFn);
        doneFn();
      },
    },
  };
}</code></pre>
</div>
</div>
<h3 id="provide_custom_payment_options_listener" class="discrete">Provide custom payment options listener - optional</h3>
<div class="paragraph">
<p>You can trigger fetch payment options request if you need to override the out-of-the-box behaviour for triggering payment options.
To override the behaviour you need to provide a custom function that takes a form and a subject as params.
In the custom function you can listen to any for field changes in the form and emit the subject when the payment options needs to be triggered.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-typescript" data-lang="typescript">export class CustomPaymentWizardComponent {
  config: PaymentWizardConfig = {
    businessFunctions: ['SEPA CT', 'UK CHAPS', 'UK Foreign Wire', 'US Domestic Wire', 'ACH Credit Transfer'],
    paymentconfigs: [SEPA, CHAPS, UK_FASTER_PAYMENT, INTERNATIONAL_TRANSFER, US_DOMESTIC_WIRE, US_ACH_CREDIT],
    defaultCountry: 'GB',
    enableApprovals: true,
    fetchPaymentOptionsListener: this.listenCriticalFieldChanges.bind(this),
  }

  listenCriticalFieldChanges(form: FormGroup, fetchOptions$: Subject&lt;FormGroup&gt;) {
    // Listen for changes in any form control and emit the fetchOPtions$
    // with the form as param like fetchOptions$.next(form);
  }
}</code></pre>
</div>
</div>
</div>
</body>
</html>